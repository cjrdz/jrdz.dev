---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navbar from "../components/astro/Navbar.astro";
import { getTranslation, getTranslationObject } from "../lib/i18n";
import Header from "../components/astro/cv/Header.astro";
import Summary from "../components/astro/cv/Summary.astro";
import Projects from "../components/astro/cv/Projects.astro";
import WorkExperience from "../components/astro/cv/WorkExperience.astro";
import Education from "../components/astro/cv/Education.astro";
import Certifications from "../components/astro/cv/Certifications.astro";
import Skills from "../components/astro/cv/Skills.astro";
import FloatingBlogMenu from "../components/astro/FloatingBlogMenu.astro";
import "../styles/about.css";

const currentLocale = Astro.currentLocale || "en";
const t = (key: string) => getTranslation(currentLocale, key);
const cvT = getTranslationObject(currentLocale, "cv") || {};
---

<BaseLayout
    title={typeof cvT.pageTitle === "string" ? cvT.pageTitle : t("cv.pageTitle")}
    description={typeof cvT.pageDescription === "string" ? cvT.pageDescription : t("cv.pageDescription")}
>
    <Navbar />

    <main class="container relative mx-auto scroll-my-12 overflow-auto p-4 print:p-11 md:p-8 lg:p-16" id="main-content">
        <section class="mx-auto w-full max-w-full sm:max-w-xl md:max-w-3xl lg:max-w-4xl xl:max-w-5xl space-y-8 bg-base-100 print:space-y-4 print:max-w-2xl" aria-label="CV Content">
            <div class="anim-item">
                <Header/>
            </div>
            <div class="space-y-8 print:space-y-4">
                <div class="anim-item delay-100">
                    <Summary/>
                </div>
                <div class="anim-item delay-200">
                    <Projects/>
                </div>
                <div class="anim-item delay-250">
                    <WorkExperience/>
                </div>
                <div class="anim-item delay-300">
                    <Education/>
                </div>
                <div class="anim-item delay-250">
                    <Certifications/>
                </div>
                <div class="anim-item delay-300">
                    <Skills/>
                </div>
            </div>
        </section>
    </main>
    <FloatingBlogMenu showBackToTop={true} showCategoryLink={false} showAllCategories={false} />
</BaseLayout>

<script>
    // Import animation script
    import "../lib/client/about.ts";
</script>

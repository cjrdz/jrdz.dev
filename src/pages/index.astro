---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navbar from "../components/astro/Navbar.astro";
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import setupImg from "../assets/setup.png";
import serverImg from "../assets/server.png";
import codingImg from "../assets/coding.png";
import motherboardImg from "../assets/motherboard.png";
import '../styles/home.css';

// Interface slide data
interface Slide {
    id: number;
    src: ImageMetadata;
    alt: string;
}

// Interface data filled in
const slides: Slide[] = [
    { id: 1, src: setupImg, alt: "Workspace setup" },
    { id: 2, src: serverImg, alt: "Server room" },
    { id: 3, src: codingImg, alt: "Coding on laptop" },
    { id: 4, src: motherboardImg, alt: "Computer motherboard" }
];
// const slide function
const getNavigationSlides = (currentIndex: number, totalSlides: number) => ({
    prev: currentIndex === 0 ? totalSlides : currentIndex,
    next: currentIndex === totalSlides - 1 ? 1 : currentIndex + 2
});
---

<BaseLayout
        title="Home - Jrdz"
        description="Your friendly guide to technology, cloud computing, cybersecurity, networking, and development"
>
    <Navbar />

    <div class="max-w-7xl mx-auto px-4 py-6">
        <!-- Header -->
        <header class="text-center mb-2 anim-item">
            <h1 class="text-4xl font-bold mb-4 text-primary">Hello World üåç</h1>
        </header>

        <!-- Welcome Section -->
        <section class="card bg-base-100 shadow-xl mb-12 anim-item delay-100">
            <div class="card-body">
                <div class="space-y-6 text-lg leading-relaxed">
                    <p>
                        Think of this as your friendly guide to the exciting
                        world of technology. We'll dive into making cool
                        projects with code, learn how to keep computers safe
                        from online threats (cybersecurity), and especially how
                        to build things in the cloud (cloud computing). For
                        cloud computing, we'll focus on Microsoft Azure,
                        learning how to set up small online projects and
                        infrastructure.
                    </p>

                    <p>
                        We'll use special tools like ARM templates, Terraform,
                        and Bicep to help us build and manage things easily, and
                        we'll also figure out the basics of how networks connect
                        in the cloud. Plus, we'll cover everyday systems like
                        Linux and of course, Windows. I'll be sharing what I
                        learn and build, and I'd love to hear your thoughts too!
                        Jump in, look around, and let's explore this amazing
                        tech journey together.
                    </p>
                </div>

                <div class="card-actions justify-center mt-6">
                    <a href="/blog" class="btn btn-primary btn-lg">
                        Explore Blog Posts
                    </a>
                </div>
            </div>
        </section>

        <!-- Tech Carousel -->
        <section
                id="tech-carousel"
                class="carousel w-full rounded-xl shadow-2xl mb-8 anim-item delay-200"
                aria-label="Technology showcase carousel"
        >
            {slides.map((slide, index) => {
                const { prev, next } = getNavigationSlides(index, slides.length);

                return (
                        <div id={`slide${slide.id}`} class="carousel-item relative w-full">
                            <Image
                                    src={slide.src}
                                    class="w-full h-[400px] object-cover"
                                    alt={slide.alt}
                                    loading="eager"
                            />
                            <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
                                <a
                                        href={`#slide${prev}`}
                                        class="btn btn-circle btn-ghost bg-base-100/50 hover:bg-base-100 border-none"
                                        aria-label="Previous slide"
                                >
                                    ‚ùÆ
                                </a>
                                <a
                                        href={`#slide${next}`}
                                        class="btn btn-circle btn-ghost bg-base-100/50 hover:bg-base-100 border-none"
                                        aria-label="Next slide"
                                >
                                    ‚ùØ
                                </a>
                            </div>
                        </div>
                );
            })}
        </section>
    </div>
</BaseLayout>

<script>
    import "../scripts/home.ts";
</script>
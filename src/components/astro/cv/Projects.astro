---
import { getCVData } from "../../../data/cv";
import { getTranslation } from "../../../lib/i18n";
import ProjectItem from "./ProjectItem.astro";

const currentLocale = Astro.currentLocale || "en";
const CV_DATA = getCVData(currentLocale);
const {projects} = CV_DATA;
const t = (key: string) => getTranslation(currentLocale, key);
---
{projects && projects.length > 0 && (
    <section class="flex min-h-0 flex-col gap-y-3 print:gap-y-1 mb-8 print:mb-4">
        <h2 class="text-xl font-bold text-primary" id="projects-section">{t("cv.myProjects")}</h2>
        <div class="space-y-4 print:space-y-2" role="feed" aria-labelledby="projects-section">
            {projects.map((project) => (
                <ProjectItem {...project}/>
            ))}
        </div>
    </section>
)}

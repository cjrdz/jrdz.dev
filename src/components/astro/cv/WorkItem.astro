---
import Badge from "./common/Badge.astro";

interface Props {
    company: string;
    link: string;
    title: string;
    start: string;
    end: string | null;
    description: string;
    achievements?: string[];
    badges?: string[];
}

const {company, link, title, start, end, description, achievements, badges} = Astro.props
---
<article role="article" class="card bg-base-100 shadow-sm mb-4 print:mb-2">
    <div class="card-body p-4 print:p-2">
        <div class="flex flex-col space-y-1.5 print:space-y-1">
            <div class="flex items-center justify-between gap-x-2 text-base">
                <h3 class="inline-flex items-center justify-center gap-x-1 font-semibold leading-none print:text-sm">
                    <a class="hover:underline link link-primary"
                       href={link}
                       target="_blank"
                       rel="noopener noreferrer"
                       aria-label={`${company} company link`}>
                        {company}
                    </a>
                </h3>
                <div class="text-sm tabular-nums opacity-60"
                     aria-label={`Employment period: ${start} to ${end ?? 'Present'}`}>
                    {start} - {end ?? 'Present'}
                </div>
            </div>
            <h4 class="text-sm font-semibold leading-none flex flex-col space-y-1.5 print:text-[12px]">
                {title}
            </h4>
        </div>
        <div class="text-pretty text-sm opacity-80">
            <div class="mt-2 text-foreground print:mt-1 print:text-[12px] text-pretty">
                {description}
                {achievements && achievements.length > 0 && (
                    <ul class="list-inside list-disc mt-2 print:mt-1">
                        {achievements.map((achievement) => (
                            <li>{achievement}</li>
                        ))}
                    </ul>
                )}
            </div>
            {badges && badges.length > 0 && (
                <div class="mt-2">
                    <ul class="flex list-none flex-wrap gap-1 p-0" aria-label="Technologies used">
                        {badges.map((badge) => (
                            <li>
                                <Badge variant="primary">{badge}</Badge>
                            </li>
                        ))}
                    </ul>
                </div>
            )}
        </div>
    </div>
</article>
